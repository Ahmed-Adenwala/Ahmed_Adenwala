<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ahmed Adenwala | Where Numbers Meet Innovation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html {
            scroll-behavior: smooth;
        }
        :root {
            --primary: #6366f1;
            --secondary: #8b5cf6;
            --accent: #06d6a0;
            --warning: #fbbf24;
            --danger: #ef4444;
            --dark: #0f172a;
            --light: #f8fafc;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --gradient-4: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }
        body {
            font-family: 'Inter', sans-serif;
            background: var(--dark);
            color: var(--light);
            line-height: 1.7;
            overflow-x: hidden;
        }

        /* Cursor Trail */
        .cursor-trail {
            position: fixed;
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            z-index: 9999;
            transition: opacity 0.3s;
        }

        /* Floating Particles */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--accent);
            border-radius: 50%;
            opacity: 0.7;
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gradient-1);
            position: relative;
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        .hero-content {
            text-align: center;
            z-index: 2;
            position: relative;
            max-width: 800px;
            padding: 2rem;
        }
        .hero-avatar {
            width: 180px;
            height: 180px;
            background: var(--gradient-3);
            border-radius: 50%;
            margin: 0 auto 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            font-weight: 800;
            color: white;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            animation: pulse 2s ease-in-out infinite alternate;
            position: relative;
            overflow: hidden;
        }
        .hero-avatar::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(transparent, rgba(255,255,255,0.3), transparent);
            animation: spin 3s linear infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 20px 40px rgba(0,0,0,0.3); }
            100% { transform: scale(1.05); box-shadow: 0 25px 50px rgba(0,0,0,0.4); }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .hero h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #fff, #e2e8f0);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: fadeInUp 1s ease-out;
        }
        .hero-subtitle {
            font-size: clamp(1.2rem, 2vw, 1.5rem);
            margin-bottom: 2rem;
            opacity: 0.9;
            animation: fadeInUp 1s ease-out 0.2s both;
        }
        .hero-description {
            font-size: 1.1rem;
            opacity: 0.8;
            margin-bottom: 3rem;
            animation: fadeInUp 1s ease-out 0.4s both;
        }
        .hero-cta {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            animation: fadeInUp 1s ease-out 0.6s both;
        }
        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        .btn-primary {
            background: var(--gradient-4);
            color: var(--dark);
        }
        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            backdrop-filter: blur(10px);
        }
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Navigation */
        .nav {
            position: fixed;
            top: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 50px;
            padding: 0.5rem;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        .nav-list {
            display: flex;
            list-style: none;
            gap: 0.5rem;
        }
        .nav-item a {
            text-decoration: none;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        .nav-item a:hover, .nav-item a.active {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
        }

        /* About Section */
        .about {
            padding: 8rem 2rem;
            background: var(--dark);
            position: relative;
        }
        .about::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 200px;
            background: var(--gradient-2);
            clip-path: polygon(0 0, 100% 0, 100% 70%, 0 100%);
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        .section-title {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            text-align: center;
            margin-bottom: 4rem;
            background: var(--gradient-3);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .about-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }
        .about-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .about-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-4);
        }
        .about-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        .about-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }

        /* Skills Section */
        .skills {
            padding: 8rem 2rem;
            background: var(--gradient-1);
            position: relative;
        }
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }
        .skill-category {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }
        .skill-category:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.15);
        }
        .skill-category h3 {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: white;
        }
        .skill-category i {
            font-size: 1.5rem;
            color: var(--accent);
        }
        .skill-bar {
            margin-bottom: 1.5rem;
        }
        .skill-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        .skill-progress {
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        .skill-progress-bar {
            height: 100%;
            background: var(--gradient-4);
            border-radius: 10px;
            transition: width 1s ease-out;
            position: relative;
        }
        .skill-progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.3) 50%, transparent 70%);
            animation: shimmer 2s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Experience Section */
        .experience {
            padding: 8rem 2rem;
            background: var(--dark);
            position: relative;
        }
        .timeline {
            position: relative;
            max-width: 800px;
            margin: 4rem auto 0;
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--gradient-3);
            transform: translateX(-50%);
        }
        .timeline-item {
            position: relative;
            margin-bottom: 4rem;
            width: 50%;
        }
        .timeline-item:nth-child(odd) {
            left: 0;
            padding-right: 3rem;
        }
        .timeline-item:nth-child(even) {
            left: 50%;
            padding-left: 3rem;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--accent);
            border-radius: 50%;
            top: 20px;
            box-shadow: 0 0 20px var(--accent);
        }
        .timeline-item:nth-child(odd)::before {
            right: -10px;
        }
        .timeline-item:nth-child(even)::before {
            left: -10px;
        }
        .timeline-content {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
        }
        .timeline-content:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
        }
        .timeline-content h3 {
            color: var(--accent);
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }
        .timeline-date {
            color: var(--warning);
            font-weight: 600;
            margin-bottom: 1rem;
        }

        /* Impact Section Styles */
        .growth-visualization {
            max-width: 1000px;
            margin: 0 auto;
        }
        .chart-container {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 2.5rem;
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
        }
        .chart-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-4);
        }
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        .chart-header h3 {
            font-size: 1.5rem;
            color: white;
            margin: 0;
        }
        .chart-controls {
            display: flex;
            gap: 1rem;
            background: rgba(255,255,255,0.1);
            padding: 0.5rem;
            border-radius: 50px;
        }
        .chart-btn {
            padding: 0.7rem 1.5rem;
            border: none;
            border-radius: 25px;
            background: transparent;
            color: rgba(255,255,255,0.7);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        .chart-btn.active,
        .chart-btn:hover {
            background: var(--accent);
            color: white;
            transform: translateY(-2px);
        }
        .chart-area {
            position: relative;
        }
        .animated-chart {
            width: 100%;
            height: 400px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        .chart-grid {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            padding: 40px;
        }
        .grid-line {
            position: absolute;
            background: rgba(255,255,255,0.1);
        }
        .grid-line.horizontal {
            left: 40px;
            right: 40px;
            height: 1px;
        }
        .chart-data {
            position: absolute;
            top: 40px;
            bottom: 60px;
            left: 40px;
            right: 40px;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .chart-data.hidden {
            opacity: 0;
            transform: translateY(20px);
        }
        .data-point {
            position: absolute;
            width: 12px;
            bottom: 0;
            border-radius: 6px;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            transform: translateX(-50%);
        }
        .chaotic .data-point {
            background: linear-gradient(to top, #ef4444, #dc2626);
            box-shadow: 0 0 12px rgba(239, 68, 68, 0.5);
            font-size: 10px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            transform: translateX(-50%) rotate(5deg);
            border: 1px solid #991b1b;
        }
        .chaotic .data-point:nth-child(even) {
            transform: translateX(-50%) rotate(-5deg);
        }
        .structured .data-point {
            background: linear-gradient(to top, #06d6a0, #0891b2);
            box-shadow: 0 0 12px rgba(6, 214, 160, 0.4);
            font-size: 12px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            transform: translateX(-50%);
        }
        .data-point:hover {
            transform: translateX(-50%) scale(1.2);
            z-index: 10;
        }
        .data-point::before {
            content: attr(data-value);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            margin-bottom: 8px;
        }
        .data-point:hover::before {
            opacity: 1;
        }
        .chart-labels {
            position: absolute;
            bottom: 20px;
            left: 40px;
            right: 40px;
            height: 20px;
        }
        .month-label {
            position: absolute;
            transform: translateX(-50%);
            font-size: 12px;
            color: rgba(255,255,255,0.7);
            font-weight: 500;
        }
        .value-labels {
            position: absolute;
            left: 0;
            top: 40px;
            bottom: 60px;
            width: 40px;
        }
        .value-label {
            position: absolute;
            right: 10px;
            transform: translateY(50%);
            font-size: 12px;
            color: rgba(255,255,255,0.7);
            font-weight: 500;
        }
        @keyframes dataPointGrow {
            from {
                height: 0;
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        .chart-data:not(.hidden) .data-point {
            animation: dataPointGrow 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        .chart-data:not(.hidden) .data-point:nth-child(1) { animation-delay: 0.1s; }
        .chart-data:not(.hidden) .data-point:nth-child(2) { animation-delay: 0.2s; }
        .chart-data:not(.hidden) .data-point:nth-child(3) { animation-delay: 0.3s; }
        .chart-data:not(.hidden) .data-point:nth-child(4) { animation-delay: 0.4s; }
        .chart-data:not(.hidden) .data-point:nth-child(5) { animation-delay: 0.5s; }
        .chart-data:not(.hidden) .data-point:nth-child(6) { animation-delay: 0.6s; }
        .chart-data:not(.hidden) .data-point:nth-child(7) { animation-delay: 0.7s; }
        .chart-data:not(.hidden) .data-point:nth-child(8) { animation-delay: 0.8s; }
        .chart-data:not(.hidden) .data-point:nth-child(9) { animation-delay: 0.9s; }
        .chart-data:not(.hidden) .data-point:nth-child(10) { animation-delay: 1.0s; }
        .chart-data:not(.hidden) .data-point:nth-child(11) { animation-delay: 1.1s; }
        .chart-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .metric-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s ease;
        }
        .metric-card:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.15);
        }
        .metric-icon {
            font-size: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gradient-4);
        }
        .metric-content {
            flex: 1;
        }
        .metric-value {
            font-size: 2rem;
            font-weight: 800;
            color: var(--accent);
            line-height: 1;
        }
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 0.2rem;
        }
        .success-stories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        .story-card {
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .story-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-3);
        }
        .story-card:hover {
            transform: translateY(-10px) scale(1.02);
            background: rgba(255,255,255,0.1);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        .story-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: var(--gradient-4);
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
        }
        .story-card h4 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: white;
        }
        .story-card p {
            opacity: 0.9;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        .story-impact {
            background: var(--gradient-4);
            color: var(--dark);
            padding: 0.7rem 1.5rem;
            border-radius: 25px;
            font-weight: 700;
            display: inline-block;
        }

        /* Smart PDF Tool Section */
        .smart-tool {
            padding: 8rem 2rem;
            background: var(--dark);
        }
        #status .status {
            padding: 0.75rem;
            margin: 1rem 0;
            border-radius: 8px;
            text-align: center;
            font-weight: 500;
            color: white;
        }
        #status .success { background: rgba(6, 214, 160, 0.3); border: 1px solid rgba(6, 214, 160, 0.5); }
        #status .error { background: rgba(239, 68, 68, 0.3); border: 1px solid rgba(239, 68, 68, 0.5); }
        #status .info { background: rgba(59, 130, 246, 0.3); border: 1px solid rgba(59, 130, 246, 0.5); }

        .selection-box {
            position: absolute;
            border: 2px dashed var(--danger);
            background: rgba(239, 68, 68, 0.1);
            cursor: move;
            z-index: 10;
            min-width: 20px;
            min-height: 20px;
            border-radius: 4px;
        }
        .selection-box:hover {
            background: rgba(239, 68, 68, 0.2);
        }
        .selection-box::before {
            content: '✏️';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            opacity: 0.7;
        }

        /* Contact Section */
        .contact {
            padding: 8rem 2rem;
            background: var(--dark);
            text-align: center;
        }
        .contact-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 3rem;
            flex-wrap: wrap;
        }
        .contact-link {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 2rem;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 50px;
            text-decoration: none;
            color: white;
            transition: all 0.3s ease;
        }
        .contact-link:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            background: rgba(255,255,255,0.2);
        }
        .contact-link i {
            font-size: 1.2rem;
            color: var(--accent);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav {
                left: 1rem;
                right: 1rem;
                transform: none;
                width: auto;
            }
            .nav-list {
                justify-content: center;
                flex-wrap: wrap;
            }
            .timeline::before {
                left: 20px;
            }
            .timeline-item {
                width: 100%;
                left: 0 !important;
                padding-left: 3rem !important;
                padding-right: 0 !important;
            }
            .timeline-item::before {
                left: 10px !important;
                right: auto !important;
            }
            .hero-cta {
                flex-direction: column;
                align-items: center;
            }
            .chart-metrics {
                grid-template-columns: 1fr;
            }
        }
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>

    <!-- Navigation -->
    <nav class="nav">
        <ul class="nav-list">
            <li class="nav-item"><a href="#hero" class="active">Home</a></li>
            <li class="nav-item"><a href="#about">About</a></li>
            <li class="nav-item"><a href="#skills">Skills</a></li>
            <li class="nav-item"><a href="#experience">Experience</a></li>
            <li class="nav-item"><a href="#calculators">Tools</a></li>
            <li class="nav-item"><a href="#smart-tool">PDFTool</a></li>
            <li class="nav-item"><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="hero">
        <div class="particle" style="top: 20%; left: 10%; animation-delay: 0s;"></div>
        <div class="particle" style="top: 80%; left: 20%; animation-delay: 2s;"></div>
        <div class="particle" style="top: 30%; right: 15%; animation-delay: 4s;"></div>
        <div class="particle" style="bottom: 20%; right: 10%; animation-delay: 1s;"></div>
        <div class="particle" style="top: 60%; left: 80%; animation-delay: 3s;"></div>
        <div class="hero-content">
            <div class="hero-avatar" style="width: 160px; height: 160px; border-radius: 50%; overflow: hidden; margin: 0 auto; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);">
                <img src="https://i.postimg.cc/28XGsZJc/IMG20241101232209.jpg" alt="Ahmed Adenwala" style="width: 100%; height: 100%; object-fit: cover;" />
            </div>
            <h1>Ahmed Adenwala</h1>
            <p class="hero-subtitle">Where Numbers Meet Innovation 🚀</p>
            <p class="hero-description">
                Transforming traditional accounting with the power of automation and AI. 
                5+ years of turning financial chaos into organized excellence.
            </p>
            <div class="hero-cta">
                <a href="#about" class="btn btn-primary">Discover My Journey</a>
                <a href="#contact" class="btn btn-secondary">Let's Connect</a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="container">
            <h2 class="section-title fade-in">The Story Behind the Numbers</h2>
            <div class="about-grid">
                <div class="about-card fade-in">
                    <h3>🎯 My Mission</h3>
                    <p>I believe accounting isn't just about numbers—it's about telling the story of business growth. My mission is to bridge the gap between traditional finance and cutting-edge technology, making complex financial processes simple and automated.</p>
                </div>
                <div class="about-card fade-in">
                    <h3>💡 What Drives Me</h3>
                    <p>The thrill of solving complex financial puzzles and the satisfaction of seeing manual processes transform into automated workflows. Every day, I'm driven by the possibility of making businesses more efficient through smart financial solutions.</p>
                </div>
                <div class="about-card fade-in">
                    <h3>🚀 My Approach</h3>
                    <p>Combining 5 years of hands-on accounting experience with modern automation tools. I don't just manage books—I architect financial systems that scale and adapt with your business needs.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Skills Section -->
    <section class="skills" id="skills">
        <div class="container">
            <h2 class="section-title">Skills That Make the Difference</h2>
            <div class="skills-grid">
                <div class="skill-category fade-in">
                    <h3><i class="fas fa-calculator"></i> Accounting Mastery</h3>
                    <div class="skill-bar">
                        <div class="skill-info">
                            <span>Financial Reporting</span>
                            <span>95%</span>
                        </div>
                        <div class="skill-progress">
                            <div class="skill-progress-bar" style="width: 95%"></div>
                        </div>
                    </div>
                    <div class="skill-bar">
                        <div class="skill-info">
                            <span>GST & TDS Compliance</span>
                            <span>92%</span>
                        </div>
                        <div class="skill-progress">
                            <div class="skill-progress-bar" style="width: 92%"></div>
                        </div>
                    </div>
                    <div class="skill-bar">
                        <div class="skill-info">
                            <span>Bookkeeping & Reconciliation</span>
                            <span>98%</span>
                        </div>
                        <div class="skill-progress">
                            <div class="skill-progress-bar" style="width: 98%"></div>
                        </div>
                    </div>
                </div>
                <div class="skill-category fade-in">
                    <h3><i class="fas fa-laptop-code"></i> Tech & Automation</h3>
                    <div class="skill-bar">
                        <div class="skill-info">
                            <span>Python Automation</span>
                            <span>85%</span>
                        </div>
                        <div class="skill-progress">
                            <div class="skill-progress-bar" style="width: 85%"></div>
                        </div>
                    </div>
                    <div class="skill-bar">
                        <div class="skill-info">
                            <span>Advanced Excel/VBA</span>
                            <span>90%</span>
                        </div>
                        <div class="skill-progress">
                            <div class="skill-progress-bar" style="width: 90%"></div>
                        </div>
                    </div>
                    <div class="skill-bar">
                        <div class="skill-info">
                            <span>Process Optimization</span>
                            <span>88%</span>
                        </div>
                        <div class="skill-progress">
                            <div class="skill-progress-bar" style="width: 88%"></div>
                        </div>
                    </div>
                </div>
                <div class="skill-category fade-in">
                    <h3><i class="fas fa-tools"></i> Software Expertise</h3>
                    <div class="skill-bar">
                        <div class="skill-info">
                            <span>Tally ERP 9 & Prime</span>
                            <span>95%</span>
                        </div>
                        <div class="skill-progress">
                            <div class="skill-progress-bar" style="width: 95%"></div>
                        </div>
                    </div>
                    <div class="skill-bar">
                        <div class="skill-info">
                            <span>Zoho Books</span>
                            <span>85%</span>
                        </div>
                        <div class="skill-progress">
                            <div class="skill-progress-bar" style="width: 85%"></div>
                        </div>
                    </div>
                    <div class="skill-bar">
                        <div class="skill-info">
                            <span>Google Workspace</span>
                            <span>92%</span>
                        </div>
                        <div class="skill-progress">
                            <div class="skill-progress-bar" style="width: 92%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Experience Section -->
    <section class="experience" id="experience">
        <div class="container">
            <h2 class="section-title fade-in">Journey of Growth & Innovation</h2>
            <div class="timeline">
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <h3>Account Executive - Suraj Forwarders Pvt Ltd</h3>
                        <div class="timeline-date">Nov 2022 - Present</div>
                        <p>Leading financial operations for a dynamic logistics company. Revolutionized data entry processes using Python automation, managing 5+ bank accounts with 100+ daily entries. Developed custom scripts that reduced manual work by 60% and improved accuracy to 99.5%.</p>
                    </div>
                </div>
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <h3>Accountant - Classic Dyeing</h3>
                        <div class="timeline-date">Aug 2020 - Oct 2022</div>
                        <p>Started my professional journey in the textile industry, managing comprehensive financial records including invoicing, inventory, and regulatory compliance. Built strong foundations in GST and TDS management while developing keen attention to detail.</p>
                    </div>
                </div>
                <div class="timeline-item fade-in">
                    <div class="timeline-content">
                        <h3>Assistant Accountant - Master Accounting Services</h3>
                        <div class="timeline-date">Jul 2019 - Jul 2020</div>
                        <p>Specialized in GST compliance and multi-client financial management. Successfully handled GSTR-1 and GSTR-3B filings for 20+ clients, maintaining 100% compliance record. Streamlined bank reconciliation processes, reducing processing time by 40%.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Impact Section -->
    <section class="calculators" id="calculators">
        <div class="container">
            <h2 class="section-title">From Chaos to Clarity</h2>
            <p style="text-align: center; font-size: 1.2rem; opacity: 0.9; margin-bottom: 4rem; max-width: 700px; margin-left: auto; margin-right: auto;">
                See how unstructured, error-prone financial data transforms into clean, automated, and actionable insights
            </p>
            <div class="growth-visualization fade-in">
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Financial Data: Before & After Optimization</h3>
                        <div class="chart-controls">
                            <button class="chart-btn active" onclick="showScenario('chaotic')">Chaos (Traditional)</button>
                            <button class="chart-btn" onclick="showScenario('structured')">Clarity (My Approach)</button>
                        </div>
                    </div>
                    <div class="animated-chart" id="animatedChart">
                        <div class="chart-data chaotic" id="chaoticChart">
                            <div class="data-point" style="left: 8.33%; height: 40%;" data-value="Err: #REF!">Err: #REF!</div>
                            <div class="data-point" style="left: 12%; height: 60%;" data-value="500 (est?)">500 (est?)</div>
                            <div class="data-point" style="left: 18%; height: 20%;" data-value="Missing">Missing</div>
                            <div class="data-point" style="left: 22%; height: 75%;" data-value="1,200*">1,200*</div>
                            <div class="data-point" style="left: 30%; height: 30%;" data-value="~80">~80</div>
                            <div class="data-point" style="left: 35%; height: 90%;" data-value="Dup: 1.5k">Dup: 1.5k</div>
                            <div class="data-point" style="left: 45%; height: 10%;" data-value="Pending">Pending</div>
                            <div class="data-point" style="left: 50%; height: 85%;" data-value="1,050??">1,050??</div>
                            <div class="data-point" style="left: 60%; height: 50%;" data-value="Varies">Varies</div>
                            <div class="data-point" style="left: 68%; height: 40%;" data-value="No Data">No Data</div>
                            <div class="data-point" style="left: 75%; height: 70%;" data-value="Manual">Manual</div>
                            <div class="data-point" style="left: 80%; height: 65%;" data-value="Old Copy">Old Copy</div>
                            <div class="data-point" style="left: 88%; height: 30%;" data-value="TBD">TBD</div>
                            <div class="data-point" style="left: 95%; height: 80%;" data-value="Final?">Final?</div>
                        </div>
                        <div class="chart-data structured hidden" id="structuredChart">
                            <div class="data-point" style="left: 8.33%; height: 20%;" data-value="105">105</div>
                            <div class="data-point" style="left: 16.66%; height: 25%;" data-value="110">110</div>
                            <div class="data-point" style="left: 25%; height: 30%;" data-value="115">115</div>
                            <div class="data-point" style="left: 33.33%; height: 35%;" data-value="120">120</div>
                            <div class="data-point" style="left: 41.66%; height: 40%;" data-value="125">125</div>
                            <div class="data-point" style="left: 50%; height: 45%;" data-value="130">130</div>
                            <div class="data-point" style="left: 58.33%; height: 50%;" data-value="135">135</div>
                            <div class="data-point" style="left: 66.66%; height: 55%;" data-value="140">140</div>
                            <div class="data-point" style="left: 75%; height: 60%;" data-value="145">145</div>
                            <div class="data-point" style="left: 83.33%; height: 65%;" data-value="150">150</div>
                            <div class="data-point" style="left: 91.66%; height: 70%;" data-value="155">155</div>
                        </div>
                        <div class="chart-labels">
                            <div class="month-label" style="left: 8.33%;">Jan</div>
                            <div class="month-label" style="left: 16.66%;">Feb</div>
                            <div class="month-label" style="left: 25%;">Mar</div>
                            <div class="month-label" style="left: 33.33%;">Apr</div>
                            <div class="month-label" style="left: 41.66%;">May</div>
                            <div class="month-label" style="left: 50%;">Jun</div>
                            <div class="month-label" style="left: 58.33%;">Jul</div>
                            <div class="month-label" style="left: 66.66%;">Aug</div>
                            <div class="month-label" style="left: 75%;">Sep</div>
                            <div class="month-label" style="left: 83.33%;">Oct</div>
                            <div class="month-label" style="left: 91.66%;">Nov</div>
                        </div>
                        <div class="value-labels">
                            <div class="value-label" style="bottom: 0%;">Low</div>
                            <div class="value-label" style="bottom: 35%;">Medium</div>
                            <div class="value-label" style="bottom: 70%;">High</div>
                        </div>
                    </div>
                    <div class="chart-metrics">
                        <div class="metric-card" id="clarity">
                            <div class="metric-icon">🧠</div>
                            <div class="metric-content">
                                <div class="metric-value" id="clarityValue">Chaos</div>
                                <div class="metric-label">Data Clarity</div>
                            </div>
                        </div>
                        <div class="metric-card" id="time">
                            <div class="metric-icon">⏱️</div>
                            <div class="metric-content">
                                <div class="metric-value" id="timeValue">8h</div>
                                <div class="metric-label">Time Spent Weekly</div>
                            </div>
                        </div>
                        <div class="metric-card" id="errors">
                            <div class="metric-icon">❌</div>
                            <div class="metric-content">
                                <div class="metric-value" id="errorsValue">15+</div>
                                <div class="metric-label">Monthly Errors</div>
                            </div>
                        </div>
                        <div class="metric-card" id="confidence">
                            <div class="metric-icon">✅</div>
                            <div class="metric-content">
                                <div class="metric-value" id="confidenceValue">Low</div>
                                <div class="metric-label">Decision Confidence</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="success-stories">
                    <div class="story-card fade-in">
                        <div class="story-icon">🧩</div>
                        <h4>From Disarray to Order</h4>
                        <p>Transformed disorganized spreadsheets into structured, automated systems with version control and audit trails</p>
                        <div class="story-impact">Zero data loss</div>
                    </div>
                    <div class="story-card fade-in">
                        <div class="story-icon">🔍</div>
                        <h4>Real Clarity</h4>
                        <p>Eliminated guesswork with standardized naming, categorization, and real-time reconciliation</p>
                        <div class="story-impact">Instant visibility</div>
                    </div>
                    <div class="story-card fade-in">
                        <div class="story-icon">⚡</div>
                        <h4>Effortless Updates</h4>
                        <p>Replaced manual entry with automated scripts—data flows in clean and ready to use</p>
                        <div class="story-impact">No more late nights</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Smart PDF Tool Section -->
    <section class="smart-tool" id="smart-tool">
        <div class="container">
            <h2 class="section-title fade-in">Smart PDF Text Extractor</h2>
            <p class="fade-in" style="text-align: center; font-size: 1.2rem; opacity: 0.9; margin-bottom: 3rem; max-width: 700px; margin-left: auto; margin-right: auto;">
                Upload financial PDFs, draw over key fields, and extract structured data instantly with AI-powered precision.
            </p>

            <div style="background: var(--glass); backdrop-filter: blur(20px); border: 1px solid var(--glass-border); border-radius: 20px; padding: 2rem; overflow: hidden; position: relative;">
                <div id="status"></div>

                <label id="upload-area" style="padding: 2rem; border: 2px dashed var(--primary); border-radius: 12px; background: rgba(99, 102, 241, 0.1); text-align: center; cursor: pointer; margin-bottom: 1.5rem; transition: all 0.3s ease; display: block;">
                    <span style="font-size: 1.2rem; color: white;">📎 Choose PDF File or Drop Here</span>
                    <input type="file" id="pdf-input" accept="application/pdf" style="display:none;" />
                </label>

                <div id="pdf-container" style="display: none; position: relative; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
                    <canvas id="pdf-canvas" style="display: block; width: 100%; height: auto;"></canvas>
                    <div id="boxes-layer" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: auto;"></div>
                </div>

                <div class="action-buttons" style="margin: 2rem 0; text-align: center; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button id="add-box-btn" class="btn btn-secondary" style="padding: 0.75rem 1.5rem; min-width: 120px;">➕ Add Box</button>
                    <button id="clear-boxes-btn" class="btn btn-secondary" style="padding: 0.75rem 1.5rem;">🗑️ Clear Boxes</button>
                    <button id="extract-btn" class="btn btn-primary" style="padding: 0.75rem 1.5rem;">🔍 Extract Text</button>
                    <button id="batch-upload-btn" class="btn btn-secondary" style="padding: 0.75rem 1.5rem;">📁 Batch Process</button>
                </div>

                <div id="batch-section" style="display: none; margin-top: 2rem; padding: 1.5rem; background: rgba(255,255,255,0.05); border-radius: 15px; border: 1px solid rgba(255,255,255,0.1);">
                    <h3 style="color: white; margin: 0 0 1rem 0; font-size: 1.3rem;">Batch Processing</h3>
                    <p style="opacity: 0.8; margin-bottom: 1rem;">Upload multiple PDFs to extract data using the same box positions:</p>
                    <input type="file" id="batch-input" accept="application/pdf" multiple style="margin: 10px 0;" />
                    <button id="process-batch-btn" class="btn btn-primary" style="padding: 0.75rem 1.5rem;">🚀 Process All PDFs</button>
                    <div id="batch-progress" style="margin-top: 1rem; color: var(--accent); font-weight: 500;"></div>
                </div>

                <div id="results" style="margin-top: 3rem; display: none;">
                    <h3 style="color: white; margin-bottom: 1rem;">Extracted Data</h3>
                    <div style="overflow-x: auto;">
                        <table id="results-table" style="width: 100%; border-collapse: collapse; border-radius: 12px; overflow: hidden; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);">
                            <thead>
                                <tr style="background: var(--gradient-3);">
                                    <th style="padding: 1rem; color: white; text-align: left;">PDF File</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <button id="download-csv" class="btn btn-primary" style="margin-top: 1.5rem; padding: 0.75rem 2rem;">⬇️ Download CSV</button>
                </div>
            </div>
        </div>
    </section>

<div style="text-align: center; margin-top: 50px;">
  <a href="https://ahmed-adenwala.github.io/PDF-TOOL/" 
     style="
       display: inline-block;
       padding: 15px 30px;
       font-size: 18px;
       font-weight: bold;
       color: white;
       background: linear-gradient(135deg, #3f51b5, #9c27b0);
       text-decoration: none;
       border-radius: 8px;
       box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
       transition: transform 0.2s ease, box-shadow 0.2s ease;
     "
     onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 6px 14px rgba(0, 0, 0, 0.3)'"
     onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 10px rgba(0, 0, 0, 0.2)'"
  >
    More advanced pdf tool
  </a>
</div>



    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="container">
            <h2 class="section-title fade-in">Let's Build Something Amazing Together</h2>
            <p class="fade-in" style="font-size: 1.1rem; opacity: 0.8; max-width: 600px; margin: 0 auto;">
                Ready to transform your financial processes? Whether you need automation solutions, 
                compliance support, or just want to chat about the future of finance, I'm here to help.
            </p>
            <div class="contact-links">
                <a href="mailto:adenwalaahmed34@gmail.com" class="contact-link fade-in">
                    <i class="fas fa-envelope"></i>
                    <span>adenwalaahmed34@gmail.com</span>
                </a>
                <a href="tel:+917016576166" class="contact-link fade-in">
                    <i class="fas fa-phone"></i>
                    <span>+91 7016576166</span>
                </a>
                <a href="https://www.linkedin.com/in/ahmed-adenwala-021940189/" target="_blank" class="contact-link fade-in">
                    <i class="fab fa-linkedin"></i>
                    <span>Connect on LinkedIn</span>
                </a>
            </div>
            <div style="margin-top: 4rem; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.1);">
                <p style="opacity: 0.7;">&copy; 2025 Ahmed Adenwala | Crafted with passion for financial excellence</p>
            </div>
        </div>
    </section>

    <!-- Cursor Trail Elements -->
    <div class="cursor-trail"></div>
    <div class="cursor-trail"></div>
    <div class="cursor-trail"></div>
    <div class="cursor-trail"></div>
    <div class="cursor-trail"></div>

    <script>
        // Show chaotic or structured data
        function showScenario(type) {
            document.querySelectorAll('.chart-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            const chaoticChart = document.getElementById('chaoticChart');
            const structuredChart = document.getElementById('structuredChart');
            chaoticChart.classList.add('hidden');
            structuredChart.classList.add('hidden');
            setTimeout(() => {
                if (type === 'chaotic') {
                    chaoticChart.classList.remove('hidden');
                    updateMetrics({ clarity: 'Chaos', time: '8h', errors: '15+', confidence: 'Low' });
                } else {
                    structuredChart.classList.remove('hidden');
                    updateMetrics({ clarity: 'Clear', time: '1h', errors: '0', confidence: 'High' });
                }
            }, 200);
        }
        function updateMetrics(values) {
            document.getElementById('clarityValue').textContent = values.clarity;
            document.getElementById('timeValue').textContent = values.time;
            document.getElementById('errorsValue').textContent = values.errors;
            document.getElementById('confidenceValue').textContent = values.confidence;
        }

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) target.scrollIntoView({ behavior: 'smooth' });
                document.querySelectorAll('.nav-item a').forEach(link => link.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Scroll animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

        // Cursor trail effect
        const trails = document.querySelectorAll('.cursor-trail');
        let mouseX = 0, mouseY = 0;
        let trailX = [], trailY = [];
        for (let i = 0; i < trails.length; i++) {
            trailX[i] = 0;
            trailY[i] = 0;
        }
        document.addEventListener('mousemove', e => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });
        function animateTrails() {
            let x = mouseX, y = mouseY;
            for (let i = 0; i < trails.length; i++) {
                trailX[i] += (x - trailX[i]) * 0.3;
                trailY[i] += (y - trailY[i]) * 0.3;
                trails[i].style.left = trailX[i] + 'px';
                trails[i].style.top = trailY[i] + 'px';
                trails[i].style.opacity = 1 - (i * 0.2);
                trails[i].style.transform = `scale(${1 - i * 0.1})`;
                x = trailX[i];
                y = trailY[i];
            }
            requestAnimationFrame(animateTrails);
        }
        animateTrails();

        // Update nav on scroll
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section[id]');
            const scrollPos = window.scrollY + 100;
            sections.forEach(section => {
                const top = section.offsetTop;
                const bottom = top + section.offsetHeight;
                const id = section.getAttribute('id');
                if (scrollPos >= top && scrollPos <= bottom) {
                    document.querySelectorAll('.nav-item a').forEach(link => link.classList.remove('active'));
                    const link = document.querySelector(`.nav-item a[href="#${id}"]`);
                    if (link) link.classList.add('active');
                }
            });
        });

        // Animate skill bars
        const skillBars = document.querySelectorAll('.skill-progress-bar');
        const skillObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const bar = entry.target;
                    const width = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => bar.style.width = width, 300);
                }
            });
        }, { threshold: 0.5 });
        skillBars.forEach(bar => skillObserver.observe(bar));

        // === PDF Tool JavaScript (Integrated) ===
        const pdfInput = document.getElementById('pdf-input');
        const uploadArea = document.getElementById('upload-area');
        const canvas = document.getElementById('pdf-canvas');
        const ctx = canvas.getContext('2d');
        const boxesLayer = document.getElementById('boxes-layer');
        const addBoxBtn = document.getElementById('add-box-btn');
        const clearBoxesBtn = document.getElementById('clear-boxes-btn');
        const extractBtn = document.getElementById('extract-btn');
        const batchUploadBtn = document.getElementById('batch-upload-btn');
        const batchSection = document.getElementById('batch-section');
        const batchInput = document.getElementById('batch-input');
        const processBatchBtn = document.getElementById('process-batch-btn');
        const batchProgress = document.getElementById('batch-progress');
        const resultsDiv = document.getElementById('results');
        const resultsBody = document.querySelector('#results-table tbody');
        const downloadCsvBtn = document.getElementById('download-csv');
        const statusDiv = document.getElementById('status');

        let pdfDoc = null;
        let page = null;
        let scale = 2.0;
        let viewport = null;
        let textContent = null;
        let boxes = [];
        let boxLabels = [];
        let allExtractedData = [];
        let isDrawing = false;
        let addingBox = false;
        let startX, startY;
        let currentBox = null;

        function showStatus(message, type = 'info') {
            statusDiv.innerHTML = `<div class="status ${type}">${message}</div>`;
            setTimeout(() => statusDiv.innerHTML = '', 5000);
        }

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });
        uploadArea.addEventListener('dragleave', () => uploadArea.classList.remove('dragover'));
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0 && files[0].type === 'application/pdf') {
                handlePdfFile(files[0]);
            } else {
                showStatus('Please drop a valid PDF file.', 'error');
            }
        });

        pdfInput.addEventListener('change', () => handlePdfFile(pdfInput.files[0]));

        async function handlePdfFile(file) {
            try {
                showStatus('Loading PDF...', 'info');
                const reader = new FileReader();
                reader.onload = async function(e) {
                    try {
                        const typedArray = new Uint8Array(e.target.result);
                        pdfDoc = await pdfjsLib.getDocument({ data: typedArray }).promise;
                        page = await pdfDoc.getPage(1);
                        viewport = page.getViewport({ scale });
                        canvas.width = viewport.width;
                        canvas.height = viewport.height;
                        canvas.style.width = viewport.width + 'px';
                        canvas.style.height = viewport.height + 'px';
                        const renderContext = { canvasContext: ctx, viewport: viewport };
                        await page.render(renderContext).promise;
                        textContent = await page.getTextContent();
                        boxesLayer.style.width = viewport.width + 'px';
                        boxesLayer.style.height = viewport.height + 'px';
                        document.getElementById('pdf-container').style.display = 'block';
                        clearBoxes();
                        resultsDiv.style.display = 'none';
                        showStatus('PDF ready! Click "Add Box" to start selecting areas.', 'success');
                    } catch (error) {
                        showStatus(`Error loading PDF: ${error.message}`, 'error');
                    }
                };
                reader.readAsArrayBuffer(file);
            } catch (error) {
                showStatus(`Error: ${error.message}`, 'error');
            }
        }

        addBoxBtn.addEventListener('click', () => {
            addingBox = !addingBox;
            addBoxBtn.textContent = addingBox ? '⏹️ Stop Adding' : '➕ Add Box';
            addBoxBtn.classList.toggle('active');
            showStatus(addingBox ? 'Click and drag to create a selection box' : '');
        });

        clearBoxesBtn.addEventListener('click', () => {
            boxes = []; boxLabels = []; boxesLayer.innerHTML = ''; resultsDiv.style.display = 'none';
        });

        boxesLayer.addEventListener('mousedown', (e) => {
            if (!addingBox || !pdfDoc) return;
            e.preventDefault();
            isDrawing = true;
            const rect = boxesLayer.getBoundingClientRect();
            startX = e.clientX - rect.left;
            startY = e.clientY - rect.top;
            currentBox = document.createElement('div');
            currentBox.className = 'selection-box';
            currentBox.style.left = `${startX}px`;
            currentBox.style.top = `${startY}px`;
            currentBox.style.width = '0px';
            currentBox.style.height = '0px';
            boxesLayer.appendChild(currentBox);
        });

        boxesLayer.addEventListener('mousemove', (e) => {
            if (!isDrawing || !currentBox) return;
            const rect = boxesLayer.getBoundingClientRect();
            const currentX = e.clientX - rect.left;
            const currentY = e.clientY - rect.top;
            const width = Math.abs(currentX - startX);
            const height = Math.abs(currentY - startY);
            const left = Math.min(startX, currentX);
            const top = Math.min(startY, currentY);
            currentBox.style.left = `${left}px`;
            currentBox.style.top = `${top}px`;
            currentBox.style.width = `${width}px`;
            currentBox.style.height = `${height}px`;
        });

        boxesLayer.addEventListener('mouseup', (e) => {
            if (!isDrawing || !currentBox) return;
            const rect = boxesLayer.getBoundingClientRect();
            const endX = e.clientX - rect.left;
            const endY = e.clientY - rect.top;
            const x = Math.min(startX, endX);
            const y = Math.min(startY, endY);
            const width = Math.abs(endX - startX);
            const height = Math.abs(endY - startY);
            if (width > 10 && height > 10) {
                const boxId = Date.now();
                currentBox.dataset.id = boxId;
                currentBox.addEventListener('dblclick', () => {
                    boxes = boxes.filter(b => b.id !== boxId);
                    boxLabels = boxLabels.filter(l => l.id !== boxId);
                    currentBox.remove();
                });
                currentBox.addEventListener('contextmenu', (e) => {
                    e.preventDefault();
                    const label = prompt('Enter label for this box:', `Field ${boxes.length + 1}`);
                    if (label) {
                        const existing = boxLabels.find(l => l.id === boxId);
                        if (existing) existing.label = label;
                        else boxLabels.push({ id: boxId, label });
                        currentBox.title = label;
                    }
                });
                boxes.push({ id: boxId, x, y, width, height });
                showStatus(`Box ${boxes.length} added. Right-click to label, double-click to delete.`, 'success');
            } else {
                currentBox.remove();
            }
            isDrawing = false;
            currentBox = null;
        });

        extractBtn.addEventListener('click', () => {
        if (!pdfDoc) {
            showStatus('Please load a PDF first.', 'error');
            return;
        }

        const rules = getTextRulesData();
        const usingBox = boxes.length > 0;
        const usingText = rules.length > 0;

        if (!usingBox && !usingText) {
            showStatus('Please add at least one selection box or one text rule.', 'error');
            return;
        }

        const extractedData = extractDataFromCurrentPDF();
        allExtractedData = [extractedData];
        displayResults();
        showStatus(`Extracted using ${usingBox && usingText ? 'box & text rules' : usingBox ? 'box' : 'text rules'}.`, 'success');
        });

        function extractDataFromCurrentPDF(filename = 'Current PDF') {
        const data = { filename: filename };

        // Box method
        boxes.forEach((box, i) => {
            const boxLabel = boxLabels.find(l => l.id === box.id);
            const fieldName = boxLabel ? boxLabel.label : `Field ${i + 1}`;
            const extractedText = extractTextInBox(box, textContent.items);
            data[fieldName] = extractedText || '(no text found)';
        });

        // Text rules method
        const rules = getTextRulesData();
        rules.forEach(rule => {
            const extractedText = extractTextAfterText(rule, textContent.items);
            data[rule.fieldName] = extractedText || '(no text found)';
        });

        return data;
        }
        

        function displayResults() {
            resultsBody.innerHTML = '';
            if (allExtractedData.length === 0) return;
            const allFields = new Set();
            allExtractedData.forEach(data => Object.keys(data).forEach(k => k !== 'filename' && allFields.add(k)));
            const fieldNames = Array.from(allFields);
            const thead = document.querySelector('#results-table thead tr');
            thead.innerHTML = '<th>PDF File</th>' + fieldNames.map(f => `<th>${f}</th>`).join('');
            allExtractedData.forEach(data => {
                const row = document.createElement('tr');
                let rowHTML = `<td>${data.filename}</td>`;
                fieldNames.forEach(f => rowHTML += `<td>${data[f] || '(not found)'}</td>`);
                row.innerHTML = rowHTML;
                resultsBody.appendChild(row);
            });
            resultsDiv.style.display = 'block';
        }

        batchUploadBtn.addEventListener('click', () => {
            if (boxes.length === 0) return showStatus('Please create boxes first by uploading a template PDF and drawing selection boxes.', 'error');
            batchSection.style.display = batchSection.style.display === 'none' ? 'block' : 'none';
        });

        processBatchBtn.addEventListener('click', async () => {
            const files = Array.from(batchInput.files);
            if (files.length === 0) return showStatus('Please select PDF files to process.', 'error');
            if (boxes.length === 0) return showStatus('Please create selection boxes first.', 'error');
            allExtractedData = []; batchProgress.innerHTML = '';
            showStatus(`Processing ${files.length} PDF files...`, 'info');
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                batchProgress.innerHTML = `<div>Processing: ${file.name} (${i + 1}/${files.length})</div>`;
                try {
                    const extractedData = await processSinglePDF(file);
                    allExtractedData.push(extractedData);
                } catch (error) {
                    allExtractedData.push({ filename: file.name, error: `Error: ${error.message}` });
                }
            }
            displayResults();
            batchProgress.innerHTML = `<div style="color:#27ae60; font-weight:bold;">✅ Completed processing ${files.length} files!</div>`;
            showStatus(`Successfully processed ${files.length} PDF files!`, 'success');
        });

        async function processSinglePDF(file) {
            return new Promise(async (resolve, reject) => {
                const reader = new FileReader();
                reader.onload = async function(e) {
                    try {
                        const typedArray = new Uint8Array(e.target.result);
                        const tempPdfDoc = await pdfjsLib.getDocument({ data: typedArray }).promise;
                        const tempPage = await tempPdfDoc.getPage(1);
                        const tempTextContent = await tempPage.getTextContent();
                        const data = { filename: file.name };
                        boxes.forEach((box, i) => {
                            const boxLabel = boxLabels.find(l => l.id === box.id);
                            const fieldName = boxLabel ? boxLabel.label : `Field ${i + 1}`;
                            const extractedText = extractTextInBox(box, tempTextContent.items);
                            data[fieldName] = extractedText || '(no text found)';
                        });
                        resolve(data);
                    } catch (error) { reject(error); }
                };
                reader.onerror = () => reject(new Error('Failed to read file'));
                reader.readAsArrayBuffer(file);
            });
        }

        function extractTextInBox(box, textItems) {
            const { x, y, width, height } = box;
            const boxRight = x + width;
            const boxBottom = y + height;
            const foundTexts = [];
            textItems.forEach(item => {
                const text = item.str.trim();
                if (!text) return;
                const tx = item.transform[4];
                const ty = item.transform[5];
                const textWidth = item.width;
                const textHeight = item.height;
                const canvasX = tx * scale;
                const canvasY = viewport.height - (ty * scale) - (textHeight * scale);
                const canvasWidth = textWidth * scale;
                const canvasHeight = textHeight * scale;
                const textRight = canvasX + canvasWidth;
                const textBottom = canvasY + canvasHeight;
                const horizontalOverlap = canvasX < boxRight && textRight > x;
                const verticalOverlap = canvasY < boxBottom && textBottom > y;
                if (horizontalOverlap && verticalOverlap) {
                    foundTexts.push({ text, x: canvasX, y: canvasY });
                }
            });
            foundTexts.sort((a, b) => {
                const yDiff = a.y - b.y;
                return Math.abs(yDiff) < 10 ? a.x - b.x : yDiff;
            });
            return foundTexts.map(item => item.text).join(' ').trim();
        }

        downloadCsvBtn.addEventListener('click', () => {
            if (allExtractedData.length === 0) return showStatus('No data to download. Please extract text first.', 'error');
            const allFields = new Set();
            allExtractedData.forEach(data => Object.keys(data).forEach(k => k !== 'filename' && allFields.add(k)));
            const fieldNames = Array.from(allFields);
            let csv = 'PDF File,' + fieldNames.join(',') + '\n';
            allExtractedData.forEach(data => {
                let row = `"${data.filename}",`;
                const values = fieldNames.map(field => `"${(data[field] || '').toString().replace(/"/g, '""')}"`);
                row += values.join(',');
                csv += row + '\n';
            });
            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `extracted_pdf_data_${new Date().toISOString().split('T')[0]}.csv`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            showStatus('CSV file downloaded successfully!', 'success');
        });

        boxesLayer.addEventListener('contextmenu', e => e.preventDefault());
    </script>
</body>
</html>
